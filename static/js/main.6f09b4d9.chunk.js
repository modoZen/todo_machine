(this.webpackJsonptodo_machine=this.webpackJsonptodo_machine||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(2),a=n.n(o),c=n(5),r=n.n(c),s=(n(15),n(7)),i=n(3);function d(){var e=function(e,t){var n=a.a.useState(!0),o=Object(i.a)(n,2),c=o[0],r=o[1],s=a.a.useState(!0),d=Object(i.a)(s,2),l=d[0],u=d[1],j=a.a.useState(!0),h=Object(i.a)(j,2),O=h[0],b=h[1],m=a.a.useState(!1),f=Object(i.a)(m,2),g=f[0],p=f[1],T=a.a.useState(t),x=Object(i.a)(T,2),v=x[0],C=x[1];return a.a.useEffect((function(){setTimeout((function(){try{var n,o=localStorage.getItem(e);o?n=JSON.parse(o):(localStorage.setItem(e,JSON.stringify(t)),n=t),C(n),b(!1),r(!0),u(!0)}catch(a){p(g)}}),3e3)}),[c]),{item:v,saveItem:function(t){var n=JSON.stringify(t);localStorage.setItem(e,n),C(t)},loading:O,error:g,sincronizeItem:function(){b(!0),r(!1)},canChange:l,setCanChange:u}}("TODOS_V1",[]),t=e.item,n=e.saveItem,o=e.sincronizeItem,c=e.loading,r=e.error,d=e.canChange,l=e.setCanChange,u=a.a.useState(""),j=Object(i.a)(u,2),h=j[0],O=j[1],b=a.a.useState(!1),m=Object(i.a)(b,2),f=m[0],g=m[1],p=t.filter((function(e){return e.completed})).length,T=t.length,x=t.filter((function(e){return e.text.toLowerCase().includes(h.toLowerCase())}));return{loading:c,error:r,totalTodos:T,completedTodo:p,searhValue:h,setSearhValue:O,searchedTodos:x,addTodo:function(e){console.log(e);var o=Object(s.a)(t);o.push({completed:!1,text:e}),n(o),g(!1)},completeTodo:function(e){if(d){var o=t.findIndex((function(t){return t.text===e})),a=Object(s.a)(t);a[o].completed=!a[o].completed,n(a)}},deleteTodo:function(e){if(d){var o=t.findIndex((function(t){return t.text===e})),a=Object(s.a)(t);a.splice(o,1),n(a)}},openModal:f,setOpenModal:g,sincronizeTodos:o,canChange:d,setCanChange:l}}n(16);var l=n(1);function u(e){var t=e.completedTodo,n=e.totalTodos,o=e.loading;return Object(l.jsxs)("h2",{className:"TodoCounter ".concat(o&&"TodoCounter--loading"),children:["Has completado ",t," de ",n," TODOs"]})}n(18);function j(e){var t=e.searhValue,n=e.setSearhValue,o=e.loading;return Object(l.jsx)("input",{className:"TodoSearch",placeholder:"gatito",value:t,onChange:function(e){n(e.target.value)},disabled:o})}function h(e){var t=e.children,n=e.loading;return Object(l.jsx)("header",{children:a.a.Children.toArray(t).map((function(e){return a.a.cloneElement(e,{loading:n})}))})}n(19);function O(e){return Object(l.jsxs)("section",{className:"TodoList-container",children:[e.error&&e.onError(),e.loading&&e.onLoading(),!e.loading&&!e.totalTodos&&e.onEmpty(),Boolean(e.totalTodos)&&!e.searchedTodos.length&&e.onEmptySearchResults(e.searchText),Object(l.jsx)("ul",{children:!e.loading&&!e.error&&e.searchedTodos.map(e.render||e.children)})]})}var b=n(9),m=n(10);n(20);function f(e){var t=e.todo,n=e.onComplete,o=e.onDelete,a=t.text,c=t.completed;return Object(l.jsxs)("li",{className:"TodoItem",children:[Object(l.jsx)(b.a,{onClick:n,className:"Icon Icon-check ".concat(c&&"Icon-check--active")}),Object(l.jsx)("p",{className:"TodoItem-p ".concat(c&&"TodoItem-p--complete"),children:a}),Object(l.jsx)(m.a,{className:"Icon Icon-delete",onClick:o})]})}n(21);function g(e){var t=e.setOpenModal,n=e.canChange;return Object(l.jsx)("button",{className:"CreateTodoButton",onClick:function(){t((function(e){return!e}))},disabled:!n,children:"+"})}n(22);function p(e){var t=e.children;return r.a.createPortal(Object(l.jsx)("div",{className:"ModalBackground",children:t}),document.getElementById("modal"))}n(23);function T(e){var t=e.addTodo,n=e.setOpenModal,o=a.a.useState(""),c=Object(i.a)(o,2),r=c[0],s=c[1];return Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(l.jsx)("label",{children:"Escribe tu nuevo TODO"}),Object(l.jsx)("textarea",{placeholder:"Escribe el TODO",value:r,onChange:function(e){s(e.target.value)}}),Object(l.jsxs)("div",{className:"TodoForm-buttonContainer",children:[Object(l.jsx)("button",{type:"button",onClick:function(){n(!1)},className:"TodoForm-button TodoForm-button-cancel",children:"Cancelar"}),Object(l.jsx)("button",{type:"submit",className:"TodoForm-button TodoForm-button-add",children:"A\xf1adir"})]})]})}n(24);function x(){return new Array(4).fill().map((function(e,t){return Object(l.jsxs)("div",{className:"LoadingTodo-container",children:[Object(l.jsx)("span",{className:"LoadingTodo-completeIcon"}),Object(l.jsx)("p",{className:"LoadingTodo-text",children:"Cargando TODOs..."}),Object(l.jsx)("span",{className:"LoadingTodo-deleteIcon"})]},t)}))}function v(e){e.error;return Object(l.jsx)("p",{children:"Desesp\xe9rate, hubo un error"})}function C(e){e.error;return Object(l.jsx)("p",{children:"Crea tu primer TODO"})}n(25);function S(e){var t=function(e,t){var n=a.a.useState(!1),o=Object(i.a)(n,2),c=o[0],r=o[1];return a.a.useEffect((function(){var e=function(e){"TODOS_V1"===e.key&&(console.log("Hubo cambios en TODOS_V1"),r(!0),t(!1))};return window.addEventListener("storage",e),function(){window.removeEventListener("storage",e)}}),[]),{show:c,toggleShow:function(){r(!1),e()}}}(e.sincronizeTodos,e.setCanChange),n=t.show,o=t.toggleShow;return n?Object(l.jsx)("div",{className:"ChangeAlert-bg",children:Object(l.jsxs)("div",{className:"ChangeAlert-container",children:[Object(l.jsx)("p",{children:"Parece que cambiaste tus TODOs en otra pesta\xf1a o ventana del navegador."}),Object(l.jsx)("p",{children:"\xbfQuieres sincronizar tus TODOs?"}),Object(l.jsx)("button",{className:"TodoForm-button TodoForm-button--add",onClick:o,children:"Yes!"})]})}):null}var N=function(){var e=d(),t=e.error,n=e.loading,o=e.searchedTodos,c=e.completeTodo,r=e.deleteTodo,s=e.openModal,i=e.completedTodo,b=e.totalTodos,m=e.searhValue,N=e.setSearhValue,I=e.setOpenModal,y=e.addTodo,E=e.sincronizeTodos,D=e.canChange,w=e.setCanChange;return Object(l.jsxs)(a.a.Fragment,{children:[Object(l.jsxs)(h,{loading:n,children:[Object(l.jsx)(u,{completedTodo:i,totalTodos:b}),Object(l.jsx)(j,{searhValue:m,setSearhValue:N})]}),Object(l.jsx)(O,{error:t,loading:n,totalTodos:b,searchedTodos:o,searchText:m,onError:function(){return Object(l.jsx)(v,{})},onLoading:function(){return Object(l.jsx)(x,{})},onEmpty:function(){return Object(l.jsx)(C,{})},onEmptySearchResults:function(e){return Object(l.jsxs)("p",{children:["No hay resultado para ",e," "]})},children:function(e){return Object(l.jsx)(f,{todo:e,onComplete:function(){return c(e.text)},onDelete:function(){return r(e.text)},canChange:D},e.text)}}),s&&Object(l.jsx)(p,{children:Object(l.jsx)(T,{addTodo:y,setOpenModal:I})}),Object(l.jsx)(g,{setOpenModal:I,canChange:D}),Object(l.jsx)(S,{sincronizeTodos:E,setCanChange:w})]})};r.a.render(Object(l.jsx)(N,{}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.6f09b4d9.chunk.js.map